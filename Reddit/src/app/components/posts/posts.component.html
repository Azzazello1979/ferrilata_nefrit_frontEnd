<h1>Posts</h1>
<div class="main-container">
  <div *ngIf="posts.length">
    <div class="posts" *ngFor="let post of posts; let i = index">
      <ul>
        <div class="upperrow">
          <li>
            {{ i + 1 }}
          </li>
          <li>
            <h3>{{ post.channel }}</h3>
          </li>
          <li>
            <h3>Posted by: {{ post.userId.username }}</h3>
          </li>
          <li>
            <h3>{{ post.timestamp | elapsedTime }}</h3>
          </li>
        </div>
        <div>
          <li>
            <h3>{{ post.title }}</h3>
          </li>
          <li>
            <h3>{{ post.content }}</h3>
          </li>
          <div>
            <button
              type="button"
              mat-raised-button
              (click)="upVoting(post._id)"
              [disabled]="!isLoggedIn"
            >
              Upvote
            </button>
            <!-- <div *ngFor> -->
              <p>{{ score }}</p>
            <!-- </div> -->
            <button
              type="button"
              mat-raised-button
              (click)="downVoting(post._id)"
              [disabled]="!isLoggedIn"
            >
              Downvote
            </button>
          </div>
          <li
            class="delicon"
            *ngIf="isLoggedIn && jwtDecode() === post.userId.username"
            (click)="openDialog(post._id)"
          >
            <i class="material-icons">
              delete
            </i>
          </li>
        </div>
      </ul>
    </div>
  </div>
  <p *ngIf="!posts.length">There aren't any posts yet</p>
</div>
